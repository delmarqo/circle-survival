<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circle Survival</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="dark">
    <!-- Header with scoreboard and controls (title removed for compactness) -->
    <header class="page-header">
        <div class="score-area">
            <div class="score-info">
                <div class="score-box">
                    <div class="score-label">LEVEL</div>
                    <div id="level" class="score-value">1</div>
                </div>
                <div class="score-box">
                    <div class="score-label">SCORE</div>
                    <div id="score" class="score-value">0</div>
                </div>
                <div class="score-box">
                    <div class="score-label">BEST</div>
                    <div id="best" class="score-value">0</div>
                </div>
            </div>
            <!-- Timer container will expand to fill remaining horizontal space -->
            <div class="timer-container">
                <div id="timer-bar" class="timer-bar"></div>
            </div>
            <!-- Numeric time label -->
            <span id="time-label" class="timer-label">30</span>
            <!-- Help button to show game instructions -->
            <button id="help-btn" class="help-btn" title="Help">?</button>
        </div>
    </header>
    <!-- Main game area -->
    <div id="game-area" class="game-area"></div>
    <!-- Bottom bar with legend and actions -->
    <div class="bottom-bar">
        <div class="legend">
            <span class="legend-item"><span class="dot normal"></span>Normal</span>
            <span class="legend-item"><span class="dot armored"></span>Armored</span>
            <span class="legend-item"><span class="dot drifter"></span>Drifter</span>
            <span class="legend-item"><span class="dot splitter"></span>Splitter</span>
            <span class="legend-item"><span class="dot fuse"></span>Fuse</span>
        </div>
        <div class="actions">
            <button id="resume-btn" class="action-btn" disabled>Resume</button>
            <button id="restart-btn" class="action-btn" disabled>Restart Level</button>
        </div>
    </div>
    <!-- Overlay for start and level transitions -->
    <!-- Level overlay is visible on page load. It hides on start or level completion -->
    <div id="level-overlay" class="overlay">
        <div class="overlay-content">
            <h2 id="overlay-title" class="overlay-title">Ready?</h2>
            <p id="overlay-desc" class="overlay-desc">Click circles before they grow too large. Survive&nbsp;30&nbsp;seconds.</p>
            <div class="overlay-buttons">
                <button id="start-btn" class="primary-btn">Start Level&nbsp;<span id="start-level-index">1</span></button>
                <button id="reset-progress-btn" class="secondary-btn">Reset Progress</button>
            </div>
        </div>
    </div>

    <!-- Help overlay displays title, instructions and legend when the help button is clicked -->
    <div id="help-overlay" class="overlay hidden">
        <div class="overlay-content help-content">
            <button id="close-help-btn" class="close-btn" aria-label="Close help">&times;</button>
            <h2 class="overlay-title">Circle Survival</h2>
            <p class="overlay-desc">Pop the circles before one engulfs the board. Survive&nbsp;30&nbsp;seconds per level.</p>
            <p class="overlay-desc">Click circles before they grow too large. Armored circles require two clicks starting on level&nbsp;2. Drifter circles move across the screen from level&nbsp;3 onward.</p>
            <div class="legend help-legend">
                <span class="legend-item"><span class="dot normal"></span>Normal</span>
                <span class="legend-item"><span class="dot armored"></span>Armored</span>
                <span class="legend-item"><span class="dot drifter"></span>Drifter</span>
                <span class="legend-item"><span class="dot splitter"></span>Splitter</span>
                <span class="legend-item"><span class="dot fuse"></span>Fuse</span>
            </div>
            <!-- Debug section to jump to specific levels -->
            <div id="debug-controls" class="debug-controls">
                <button id="debug-btn" class="secondary-btn">Debug</button>
                <div id="debug-options" class="debug-options hidden">
                    <!-- Level buttons will be generated by script -->
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>